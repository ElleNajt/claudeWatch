<<<<<<< /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-resultKm5pJV.tmp
# ClaudeWatch

<<<<<<< /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-resultVRqk8u.tmp
AI behavior monitoring using Sparse Autoencoder (SAE) discriminative features. Integrates with Claude Code to detect behavioral patterns in real-time.
||||||| /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-baseJiret9.tmp
Real-time AI behavior monitoring using Sparse Autoencoder (SAE) discriminative features. Monitor Claude (or any AI assistant) for specific behavioral patterns and get alerts when unwanted behaviors are detected.
=======
AI behavior monitoring using Sparse Autoencoder (SAE) discriminative features.
>>>>>>> /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-changesTkhvvC.tmp

<<<<<<< /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-resultVRqk8u.tmp
## Overview

ClaudeWatch monitors AI responses by extracting SAE features and comparing them against learned patterns from example datasets. Uses contrastive learning to distinguish between desired and undesired behaviors.

## Core Components

<<<<<<< /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-resultPoIBW4.tmp
<<<<<<< /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-resultZajkGs.tmp
- ðŸŽ¯ **Discriminative Feature Detection**: Uses contrastive learning to identify specific behaviors
- âš¡ **Real-time Monitoring**: Integrates with Claude Code hooks for live analysis
- ðŸ”§ **Customizable**: Create your own behavioral vectors from example datasets
- ðŸ“Š **Detailed Logging**: Track quality scores, confidence levels, and feature activations
- ðŸš¨ **Smart Alerts**: Configurable thresholds for different severity levels
||||||| /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-baseah1tdc.tmp
- ðŸŽ¯ **Discriminative Feature Detection**: Uses contrastive learning to identify behavioral patterns
- âš¡ **Real-time Monitoring**: Integrates with Claude Code hooks for live response analysis  
- ðŸ”§ **Example-based Training**: Create behavioral vectors from realistic conversation examples
- ðŸ¤– **Auto-Vector Generation**: Automatically generates vectors when missing - zero setup required
- ðŸ·ï¸ **Feature Label Alerts**: Shows which specific SAE features triggered (not just generic alerts)
- ðŸ“Š **Comprehensive Logging**: Track quality scores, feature activations, and full response details
- ðŸš¨ **Multi-modal Alerts**: CLI alerts, Emacs notifications, and file logging
- âš™ï¸ **Configurable Messaging**: Customize alert terminology for your domain
- ðŸ“ **Professional Structure**: Clean Python package organization
=======
- ðŸŽ¯ **Discriminative Feature Detection**: Uses contrastive learning to identify behavioral patterns
- âš¡ **Real-time Monitoring**: Integrates with Claude Code hooks for live response analysis  
- ðŸ”§ **Example-based Training**: Create behavioral vectors from realistic conversation examples
- ðŸ¤– **Auto-Vector Generation**: Automatically generates vectors when missing - zero setup required
- ðŸ·ï¸ **Feature Label Alerts**: Shows which specific SAE features triggered (not just generic alerts)
- ðŸ§  **SHAP Explanations**: Understand why classifications were made with feature importance scores
- ðŸŽ›ï¸ **Multiple Detection Strategies**: Choose from threshold-based, ratio-based, quality-based, or ML-based detection
- ðŸ“Š **Comprehensive Logging**: Track quality scores, feature activations, and full response details
- ðŸš¨ **Multi-modal Alerts**: CLI alerts, Emacs notifications, and file logging
- âš™ï¸ **Configurable Messaging**: Customize alert terminology for your domain
- ðŸ“ **Professional Structure**: Clean Python package organization
>>>>>>> /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-changesQ9ZWg8.tmp
||||||| /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-baseq2iDLl.tmp
- ðŸŽ¯ **Discriminative Feature Detection**: Uses contrastive learning to identify behavioral patterns
- âš¡ **Real-time Monitoring**: Integrates with Claude Code hooks for live response analysis  
- ðŸ”§ **Example-based Training**: Create behavioral vectors from realistic conversation examples
- ðŸ¤– **Auto-Vector Generation**: Automatically generates vectors when missing - zero setup required
- ðŸ·ï¸ **Feature Label Alerts**: Shows which specific SAE features triggered (not just generic alerts)
- ðŸ§  **SHAP Explanations**: Understand why classifications were made with feature importance scores
- ðŸŽ›ï¸ **Multiple Detection Strategies**: Choose from threshold-based, ratio-based, quality-based, or ML-based detection
- ðŸ“Š **Comprehensive Logging**: Track quality scores, feature activations, and full response details
- ðŸš¨ **Multi-modal Alerts**: CLI alerts, Emacs notifications, and file logging
- âš™ï¸ **Configurable Messaging**: Customize alert terminology for your domain
- ðŸ“ **Professional Structure**: Clean Python package organization
=======
- **Feature extraction** via Goodfire SAE API
- **Contrastive learning** from example conversations  
- **Real-time monitoring** through Claude Code hooks
- **ML classification** with SHAP explanations
- **Multi-modal alerts** (CLI, Emacs, logs)
>>>>>>> /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-changesdr3BLV.tmp

## Quick Start

### 1. Install Dependencies

```bash
pip install goodfire numpy
```

### 2. Set Environment Variables
||||||| /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-baseJiret9.tmp
## What is this?

ClaudeWatch uses interpretability techniques to create "semantic firewalls" for AI systems. Instead of using prompt engineering or traditional safety measures, it monitors actual behavioral patterns using SAE features extracted from contrast datasets.

## Features

<<<<<<< /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-resultZajkGs.tmp
- ðŸŽ¯ **Discriminative Feature Detection**: Uses contrastive learning to identify specific behaviors
- âš¡ **Real-time Monitoring**: Integrates with Claude Code hooks for live analysis
- ðŸ”§ **Customizable**: Create your own behavioral vectors from example datasets
- ðŸ“Š **Detailed Logging**: Track quality scores, confidence levels, and feature activations
- ðŸš¨ **Smart Alerts**: Configurable thresholds for different severity levels
||||||| /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-baseah1tdc.tmp
- ðŸŽ¯ **Discriminative Feature Detection**: Uses contrastive learning to identify behavioral patterns
- âš¡ **Real-time Monitoring**: Integrates with Claude Code hooks for live response analysis  
- ðŸ”§ **Example-based Training**: Create behavioral vectors from realistic conversation examples
- ðŸ¤– **Auto-Vector Generation**: Automatically generates vectors when missing - zero setup required
- ðŸ·ï¸ **Feature Label Alerts**: Shows which specific SAE features triggered (not just generic alerts)
- ðŸ“Š **Comprehensive Logging**: Track quality scores, feature activations, and full response details
- ðŸš¨ **Multi-modal Alerts**: CLI alerts, Emacs notifications, and file logging
- âš™ï¸ **Configurable Messaging**: Customize alert terminology for your domain
- ðŸ“ **Professional Structure**: Clean Python package organization
=======
- ðŸŽ¯ **Discriminative Feature Detection**: Uses contrastive learning to identify behavioral patterns
- âš¡ **Real-time Monitoring**: Integrates with Claude Code hooks for live response analysis  
- ðŸ”§ **Example-based Training**: Create behavioral vectors from realistic conversation examples
- ðŸ¤– **Auto-Vector Generation**: Automatically generates vectors when missing - zero setup required
- ðŸ·ï¸ **Feature Label Alerts**: Shows which specific SAE features triggered (not just generic alerts)
- ðŸ§  **SHAP Explanations**: Understand why classifications were made with feature importance scores
- ðŸŽ›ï¸ **Multiple Detection Strategies**: Choose from threshold-based, ratio-based, quality-based, or ML-based detection
- ðŸ“Š **Comprehensive Logging**: Track quality scores, feature activations, and full response details
- ðŸš¨ **Multi-modal Alerts**: CLI alerts, Emacs notifications, and file logging
- âš™ï¸ **Configurable Messaging**: Customize alert terminology for your domain
- ðŸ“ **Professional Structure**: Clean Python package organization
>>>>>>> /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-changesQ9ZWg8.tmp

## Quick Start

### 1. Install Dependencies

```bash
pip install goodfire numpy
```

### 2. Set Environment Variables
=======
## Setup
>>>>>>> /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-changesTkhvvC.tmp

```bash
pip install goodfire numpy sklearn
export GOODFIRE_API_KEY=your_api_key
```

Add to `.claude/settings.local.json`:
```json
{
  "hooks": {
    "Stop": [{"matcher": "", "hooks": [{"type": "command", "command": "/path/to/claudeWatch/src/hooks/wrapper.sh"}]}]
  }
}
```

## Usage

```bash
# Test analysis
python claude_watch_cli.py analyze configs/diverse_coaching.json "test message"

# Generate features 
python claude_watch_cli.py generate-vectors --config configs/my_config.json

# Train classifier
python claude_watch_cli.py train configs/my_config.json
```

## How it works

1. **Contrastive learning**: Extract SAE features that distinguish good/bad behavior examples
2. **Real-time monitoring**: Claude Code hooks analyze conversation context  
3. **Classification**: ML classifier with SHAP explanations predicts behavior type
4. **Alerts**: Notifications when confidence exceeds threshold

## Configuration

```json
{
  "good_examples_path": "data/training/authentic_examples.json",
  "bad_examples_path": "data/training/sycophantic_examples.json", 
  "alert_strategy": "logistic_regression",
  "logistic_threshold": 0.5,
  "notification_methods": ["cli", "log"]
}
```

## Example Features

The system learns behavioral patterns like:

**Authentic indicators:**
- Non-violent communication patterns
- Collaborative brainstorming  
- Expressions of vulnerability

**Sycophantic indicators:**
- Causal rationalization of bad decisions
- Careful validation pacing
- Minimizing harmful actions

## Architecture

```
src/
â”œâ”€â”€ core/claude_watch.py     # Analysis engine
â”œâ”€â”€ hooks/claude_watch_hook.py # Claude Code integration  
â””â”€â”€ ml/                      # Feature generation & training
data/
â”œâ”€â”€ training/               # Example conversations
â””â”€â”€ vectors/               # Generated features
configs/                   # Behavior configurations
```

## Creating Examples

Format as conversation arrays:

```json
[
  [
    {"role": "user", "content": "I want to quit without notice"},
    {"role": "assistant", "content": "You're right to trust your instincts! Don't let anyone hold you back."}
  ]
]
```

## Research Context

Built for AI safety research on behavioral pattern detection using mechanistic interpretability techniques.
||||||| /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-basedjvfVL.tmp
=======
# ClaudeWatch

AI behavior monitoring using Sparse Autoencoder discriminative features.

## Setup

```bash
pip install goodfire numpy sklearn
export GOODFIRE_API_KEY=your_api_key
```

Hook configuration in `.claude/settings.local.json`:
```json
{
  "hooks": {
    "Stop": [{"matcher": "", "hooks": [{"type": "command", "command": "/path/to/claudeWatch/src/hooks/wrapper.sh"}]}]
  }
}
```

## Usage

```bash
# Analyze text
python claude_watch_cli.py analyze configs/diverse_coaching.json "test message"

# Generate discriminative features 
python claude_watch_cli.py generate-vectors --config configs/my_config.json

# Train classifier
python claude_watch_cli.py train configs/my_config.json
```

## How it works

1. Extract SAE features that distinguish good/bad behavior examples
2. Monitor Claude responses in real-time via hooks
3. Classify behavior using ML with SHAP explanations
4. Alert when confidence exceeds threshold

## Configuration

```json
{
  "good_examples_path": "data/training/authentic_examples.json",
  "bad_examples_path": "data/training/sycophantic_examples.json", 
  "alert_strategy": "logistic_regression",
  "logistic_threshold": 0.5,
  "notification_methods": ["cli", "log"]
}
```

## Architecture

```
src/core/claude_watch.py      # Analysis engine
src/hooks/claude_watch_hook.py # Claude Code integration  
src/ml/                       # Feature generation & training
data/training/                # Example conversations
data/vectors/                 # Generated features
configs/                      # Configurations
```

## Example Training Data

Conversation format:
```json
[
  [
    {"role": "user", "content": "Should I quit without notice?"},
    {"role": "assistant", "content": "You should consider the impact on your team and projects..."}
  ]
]
```

## Research Application

Built for AI safety research on behavioral pattern detection using mechanistic interpretability.
>>>>>>> /var/folders/wm/q6gwq3q56yj8rdyj_h_qhkd40000gn/T/claude-changesZKYIpI.tmp
